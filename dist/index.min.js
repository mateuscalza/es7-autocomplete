/*!
 * StormBox Responsive Autocomplete v3.0.0
 * Created by Mateus Calza.
 * With Inovadora Sistemas support.
 *
 * Licensed MIT.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.StormBox=e()}}(function(){var e,t,n;return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=function e(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function e(t){if(!t||"[object Object]"!==i.call(t))return!1;var n=o.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return"undefined"==typeof s||o.call(t,s)};t.exports=function e(){var t,n,o,i,a,l,u=arguments[0],c=1,p=arguments.length,f=!1;for("boolean"==typeof u?(f=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});c<p;++c)if(t=arguments[c],null!=t)for(n in t)o=u[n],i=t[n],u!==i&&(f&&i&&(s(i)||(a=r(i)))?(a?(a=!1,l=o&&r(o)?o:[]):l=o&&s(o)?o:{},u[n]=e(f,l,i)):"undefined"!=typeof i&&(u[n]=i));return u}},{}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("extend"),a=o(s),l=e("../sources/SelectSource"),u=o(l),c=e("../util/dom"),p=function(){function e(t){var n=t.style;i(this,e),this.elements={},this.elements.wrapper=(0,c.div)({className:n.errorViewWrapper},this.elements.error=(0,c.div)({className:n.errorView})),this.hide()}return r(e,[{key:"show",value:function e(t){this.elements.error.innerText=t,this.elements.wrapper.style.display="block"}},{key:"hide",value:function e(){this.elements.wrapper.style.display="none"}}]),e}();n.default=p},{"../sources/SelectSource":19,"../util/dom":22,extend:1}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("extend"),a=o(s),l=e("../sources/SelectSource"),u=o(l),c=e("../util/dom"),p=e("../util/events"),f=function(){function e(t){var n=t.style;i(this,e),this.style=n,this.element=(0,c.i)({className:n.rightIcon})}return r(e,[{key:"loadingStart",value:function e(){this.element.className=this.style.loadingRightIcon}},{key:"loadingStop",value:function e(){this.element.className=this.style.rightIcon}}]),e}();n.default=f},{"../sources/SelectSource":19,"../util/dom":22,"../util/events":23,extend:1}],4:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("../util/dom"),a=function(){function e(t,n,o){var r=t.style,a=n.onSelect;i(this,e),this.elements={},this.onSelect=a,this.autocomplete=o,this.style=r,this.items=null,this.selectedIndex=0,this.searchInput=null,this.elements.wrapper=(0,s.div)({className:r.listWrapper},this.elements.ul=(0,s.ul)()),this.hide()}return r(e,[{key:"show",value:function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.items=t,this.elements.wrapper.style.display="block",this.render()}},{key:"render",value:function e(){var t=this;if(this.items&&this.autocomplete.open){this.autocomplete.components.panel.components.pagination.show(),this.elements.ul.innerHTML="",this.autocomplete.components.panel.element.style.maxHeight=null,this.searchInput=this.autocomplete.components.panel.components.searchInput;var n=this.items.length,i=0;if(this.autocomplete.emptyItem){var r=(0,s.div)({className:this.style.item+" "+this.style.emptyItem,innerText:this.autocomplete.messages.emptyItemName});this.prepareItemEvents(r,{content:null,value:null},i);var a=(0,s.li)({},r);this.elements.ul.appendChild(a),i++}var l=null,u=null,c=null;this.autocomplete.customText&&this.searchInput.value().trim().length&&(c=this.searchInput.value().trim(),l=(0,s.div)({className:this.style.item+" "+this.style.customTextItem,innerText:c}),u=(0,s.li)({},l),this.elements.ul.appendChild(u));for(var p=0,f=this.autocomplete.components.panel.components.pagination.offset;f<n;f++){var d=(0,s.span)({innerText:this.items[f].content}),h=null;this.items[f].additional&&this.items[f].additional.length&&(h="string"!=typeof this.autocomplete.valueInOthersAs?s.div.call.apply(s.div,[null,{}].concat(o(this.items[f].additional.map(function(e){var n=e.label,o=e.content;return(0,s.div)({className:t.style.additional},(0,s.strong)({innerText:n+": "}),(0,s.span)({innerText:o}))})))):s.div.call.apply(s.div,[null,{},(0,s.div)({className:this.style.additional},(0,s.strong)({innerText:this.autocomplete.valueInOthersAs+": "}),(0,s.span)({innerText:this.items[f].value}))].concat(o(this.items[f].additional.map(function(e){var n=e.label,o=e.content;return(0,s.div)({className:t.style.additional},(0,s.strong)({innerText:n+": "}),(0,s.span)({innerText:o}))})))));var m=(0,s.div)({className:this.style.item},d);h&&m.appendChild(h),this.prepareItemEvents(m,this.items[f],i);var y=(0,s.li)({},m);if(u?this.elements.ul.insertBefore(y,u):this.elements.ul.appendChild(y),i++,p++,this.autocomplete.components.panel.element.getBoundingClientRect().height>this.autocomplete.heightSpace){this.elements.ul.removeChild(y),i--,p--;break}this.autocomplete.components.panel.components.pagination.perPage=p,p===this.items.length&&this.autocomplete.components.panel.components.pagination.hide()}l&&(this.prepareItemEvents(l,{content:c,value:null},i),i++),this.autocomplete.components.panel.element.style.maxHeight=Math.max(110,this.autocomplete.heightSpace)+"px",this.items.length>=1?this.updateSelection(1):this.updateSelection(0)}}},{key:"prepareItemEvents",value:function e(t,n,o){var i=this;t.addEventListener("mouseenter",function(e){console.log(o),i.updateSelection(o)}),t.addEventListener("mousedown",function(e){console.log(o),i.updateSelection(o),i.onSelect(n),i.autocomplete.closePanel()})}},{key:"up",value:function e(){this.elements.ul.children.length&&this.updateSelection(this.selectedIndex-1)}},{key:"down",value:function e(){this.elements.ul.children.length&&this.updateSelection(this.selectedIndex+1)}},{key:"selectCurrent",value:function e(){this.autocomplete.emptyItem&&0==this.selectedIndex?this.onSelect({content:null,value:null}):this.autocomplete.customText&&this.selectedIndex==this.elements.ul.children.length-1&&this.searchInput.value().trim().length?this.onSelect({value:null,content:this.searchInput.value().trim()}):this.autocomplete.emptyItem?this.onSelect(this.items[this.selectedIndex-1]):this.onSelect(this.items[this.selectedIndex]),this.autocomplete.closePanel(),document.activeElement!=this.autocomplete.elements.wrapper&&(this.autocomplete.ignoreFocus=!0,console.log(this.autocomplete.elements.wrapper),this.autocomplete.elements.wrapper.focus())}},{key:"updateSelection",value:function e(t){var n=this.selectedIndex,o=this.elements.ul.children;if(t<0)return this.autocomplete.components.panel.components.pagination.prev();if(t>o.length-1)return this.autocomplete.components.panel.components.pagination.next();this.selectedIndex=t;var i=o[n];i&&i.children[0].classList.remove("active"),o[this.selectedIndex].children[0].classList.add("active")}},{key:"hide",value:function e(){this.elements.wrapper.style.display="none"}}]),e}();n.default=a},{"../util/dom":22}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../util/dom"),s=e("../util/events"),a=function(){function e(t,n,i){var s=t.style,a=n.onSelect;o(this,e),this.currentStep=0,this.end=!1,this.steps=[],this.offset=0,this.perPage=1/0,this.autocomplete=i,this.elements={},this.elements.goLeft=(0,r.div)({className:s.paginationLeft},(0,r.i)({className:s.paginationGoLeftIcon})),this.elements.goRight=(0,r.div)({className:s.paginationRight},(0,r.i)({className:s.paginationGoRightIcon})),this.elements.wrapper=(0,r.div)({className:s.paginationWrapper},this.elements.goLeft,this.elements.goRight),this.prepareEvents()}return i(e,[{key:"prepareEvents",value:function e(){var t,n=this;(t=this.elements.goLeft,s.on).call(t,"click",function(e){e.preventDefault(),n.prev()}),(t=this.elements.goRight,s.on).call(t,"click",function(e){e.preventDefault(),n.next()})}},{key:"hide",value:function e(){this.elements.wrapper.style.display="none"}},{key:"show",value:function e(){this.elements.wrapper.style.display="block"}},{key:"next",value:function e(){var t=this,n=this.autocomplete.components.panel.components.list.items;if("undefined"==typeof n[this.offset+this.perPage]){if(this.end)return;this.feed(this.offset+this.perPage).then(function(e){e.length?(n.push.apply(n,e),t.currentStep++,t.offset=t.steps[t.currentStep]=t.offset+t.perPage,t.autocomplete.components.panel.components.list.render()):t.end=!0})}else this.currentStep++,this.offset=this.steps[this.currentStep]=this.offset+this.perPage,this.autocomplete.components.panel.components.list.render()}},{key:"prev",value:function e(){0!==this.currentStep&&(this.currentStep--,this.offset=this.steps[this.currentStep]||0,this.autocomplete.components.panel.components.list.render())}},{key:"feed",value:function e(t){return this.autocomplete.feed(t)}}]),e}();n.default=a},{"../util/dom":22,"../util/events":23}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("../components/StormBox"),a=o(s),l=e("./SearchInput"),u=o(l),c=e("./ErrorView"),p=o(c),f=e("./List"),d=o(f),h=e("./Pagination"),m=o(h),y=e("../util/dom"),v=function(){function e(t,n,o){var r=t.style,s=n.onSelect;i(this,e),this.components={searchInput:new u.default({style:r},(void 0),o),errorView:new p.default({style:r}),list:new d.default({style:r},{onSelect:s},o),pagination:new m.default({style:r},{onSelect:s},o)},this.element=(0,y.div)({className:r.panel},this.components.searchInput.elements.wrapper,this.components.errorView.elements.wrapper,this.components.pagination.elements.wrapper,this.components.list.elements.wrapper)}return r(e,[{key:"show",value:function e(t){this.components.pagination.currentStep=0,this.components.pagination.offset=0,this.components.pagination.perPage=1/0,this.components.list.show(t.data)}},{key:"error",value:function e(t){console.error(t),this.components.errorView.show(a.default.truncate(a.default.responseToText(t.message)))}},{key:"clear",value:function e(){this.components.errorView.hide(),this.components.list.hide()}}]),e}();n.default=v},{"../components/StormBox":9,"../util/dom":22,"./ErrorView":2,"./List":4,"./Pagination":5,"./SearchInput":8}],7:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("extend"),a=o(s),l=e("../sources/SelectSource"),u=o(l),c=e("../util/dom"),p=e("../util/events"),f=function(){function e(t,n,o){var r=t.style,s=r.presentText,a=r.presentInnerText,l=r.presentCropText,u=r.presentInnerValue,f=r.presentTextItems,d;i(this,e),this.autocomplete=o,this.elements={},this.elements.inner=(0,c.div)({className:a}),this.elements.innerValue=(0,c.div)({className:u}),this.elements.items=(0,c.div)({className:f},this.elements.innerValue,this.elements.inner),this.elements.crop=(0,c.div)({className:l},this.elements.items),this.element=(d=(d=(0,c.div)({className:s},this.elements.crop),p.on).call(d,"mouseenter",this.scrollToShow.bind(this)),p.on).call(d,"mouseout",this.scrollToHide.bind(this))}return r(e,[{key:"scrollToShow",value:function e(){this.autocomplete.open||(this.elements.items.style.webkitTransition="left linear 3s",this.elements.items.style.mozTransition="left linear 3s",this.elements.items.style.oTransition="left linear 3s",this.elements.items.style.transition="left linear 3s",this.elements.items.style.left="-"+Math.max(0,Math.floor(("none"===this.elements.innerValue.style.display?0:this.elements.innerValue.getBoundingClientRect().width)+this.elements.inner.getBoundingClientRect().width-this.elements.crop.getBoundingClientRect().width))+"px")}},{key:"scrollToHide",value:function e(){this.elements.items.style.webkitTransition="left linear 600ms",this.elements.items.style.mozTransition="left linear 600ms",this.elements.items.style.oTransition="left linear 600ms",this.elements.items.style.transition="left linear 600ms",this.elements.items.style.left="0px"}},{key:"text",value:function e(t){this.elements.inner.innerText=t}},{key:"value",value:function e(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.autocomplete.showValue&&String(t).length?(this.elements.innerValue.innerText=t,this.elements.innerValue.style.display="inline-block"):this.elements.innerValue.style.display="none"}}]),e}();n.default=f},{"../sources/SelectSource":19,"../util/dom":22,"../util/events":23,extend:1}],8:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("extend"),a=o(s),l=e("../sources/SelectSource"),u=o(l),c=e("../util/dom"),p=function(){function e(t,n,o){var r=t.style;i(this,e),this.elements={},this.elements.input=(0,c.input)({className:r.searchInput,placeholder:o.messages.searchPlaceholder}),this.elements.wrapper=(0,c.div)({className:r.searchInputWrapper},this.elements.input)}return r(e,[{key:"value",value:function e(t){return"undefined"!=typeof t?(this.elements.input.value=t,this):this.elements.input.value}}]),e}();n.default=p},{"../sources/SelectSource":19,"../util/dom":22,extend:1}],9:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("extend"),u=o(l),c=e("./PresentText"),p=o(c),f=e("./Icon"),d=o(f),h=e("./Panel"),m=o(h),y=e("../sources/SelectSource"),v=o(y),g=e("../core/Core"),b=o(g),w=e("../mixins/Events"),x=o(w),O=e("../mixins/Finding"),S=o(O),k=e("../mixins/PanelControl"),T=o(k),P=e("../mixins/Selecting"),I=o(P),_=e("../mixins/Positioning"),E=o(_),C=e("../util/debounce"),j=o(C),R=e("../util/dom"),q=(0,I.default)((0,T.default)((0,S.default)((0,E.default)((0,x.default)(b.default))))),N=function(e){function t(e){i(this,t);var n=e.hiddenInput,o=e.textInput,s=e.source,a=e.selectInput,l=e.style,c=void 0===l?{}:l,f=e.customText,h=void 0!==f&&f,y=e.debounceTime,g=void 0===y?600:y,b=e.queryParam,w=void 0===b?"q":b,x=e.minLength,O=void 0===x?1:x,S=e.clearOnType,k=void 0!==S&&S,T=e.autoFind,P=void 0!==T&&T,I=e.autoSelectWhenOneResult,_=void 0===I||I,E=e.emptyItem,C=e.messages,q=void 0===C?{}:C,N=e.references,A=void 0===N?{}:N,M=e.otherParams,F=void 0===M?{}:M,L=e.showValue,B=void 0===L||L,W=e.valueInOthersAs,V=void 0===W?"ID":W,D=r(this,Object.getPrototypeOf(t).call(this,e));if(D.key=t.currentSerialKey++,D.finding=!1,D.open=!1,D.typing=!1,D.ignoreFocus=!1,D.ignoreBlur=!1,D.lastParams=null,D.valueOnOpen=void 0,D.usedOtherFields=[],D.direction="down",D.references=A,D.otherParams=F,D.queryParam=w,D.clearOnType=k,D.autoFind=P,D.minLength=O,D.showValue=B,D.customText=h,D.autoSelectWhenOneResult=_,D.valueInOthersAs=V,D.emptyItem="undefined"!=typeof E?E:!n.hasAttribute("required")&&!o.hasAttribute("required"),!s&&!a)throw new Error("Set a source or a selectInput.");return D.source=s||new v.default(a),D.style=(0,u.default)({hiddenInput:"ac-hidden-input",textInput:"ac-text-input",panel:"ac-panel",listWrapper:"ac-list-wrapper",item:"ac-item",emptyItem:"ac-empty-item",customTextItem:"ac-custom-text-item",additional:"ac-additional",searchInput:"ac-search-input",searchInputWrapper:"ac-search-input-wrapper",presentText:"ac-present-text",presentCropText:"ac-present-crop-text",presentTextItems:"ac-present-items",presentInnerText:"ac-present-inner-text",presentInnerValue:"ac-present-inner-value",errorView:"ac-error-view",errorViewWrapper:"ac-error-view-wrapper",wrapper:"ac-wrapper",top:"ac-top",bottom:"ac-bottom",openWrapper:"ac-wrapper ac-open-wrapper",rightIcon:"fa fa-search ac-icon",loadingRightIcon:"fa fa-spinner ac-icon ac-loading-icon",paginationWrapper:"ac-pagination-wrapper",paginationLeft:"ac-pagination-left",paginationRight:"ac-pagination-right",paginationGoLeftIcon:"fa fa-chevron-left",paginationGoRightIcon:"fa fa-chevron-right"},c),D.messages=(0,u.default)({searchPlaceholder:"Search...",emptyItemName:"Empty"},q),D.elements={hiddenInput:n,textInput:o,wrapper:(0,R.div)({className:D.style.wrapper})},D.debouncedFind=(0,j.default)(D.find.bind(D),g),D.debouncedLayoutChange=(0,j.default)(D.layoutChange.bind(D),250),D.components={presentText:new p.default({style:D.style},{},D),icon:new d.default({style:D.style}),panel:new m.default({style:D.style},{onSelect:D.select.bind(D)},D)},D.prepareElements(),D}return s(t,e),a(t,[{key:"prepareElements",value:function e(){this.elements.wrapper.setAttribute("tabindex","0"),this.value=this.elements.hiddenInput.value,this.content=this.elements.textInput.value,this.elements.textInput.parentNode.insertBefore(this.elements.wrapper,this.elements.textInput.nextSibling),this.elements.hiddenInput.parentNode.removeChild(this.elements.hiddenInput),this.elements.textInput.parentNode.removeChild(this.elements.textInput),this.elements.hiddenInput.autoComplete=this,this.elements.hiddenInput.type="hidden",this.elements.hiddenInput.className=this.style.hiddenInput,this.elements.hiddenInput.dataset.autocompleteKey=this.key,this.elements.textInput.autoComplete=this,this.elements.textInput.type="hidden",this.elements.textInput.className=this.style.textInput,this.elements.textInput.dataset.autocompleteTextKey=this.key,this.components.presentText.value(this.value),this.components.presentText.text(this.content),this.elements.wrapper.appendChild(this.elements.hiddenInput),this.elements.wrapper.appendChild(this.elements.textInput),this.elements.wrapper.appendChild(this.components.presentText.element),this.elements.wrapper.appendChild(this.components.icon.element),this.elements.wrapper.appendChild(this.components.panel.element),this.prepareEvents()}}]),t}(q);n.default=N},{"../core/Core":10,"../mixins/Events":12,"../mixins/Finding":13,"../mixins/PanelControl":14,"../mixins/Positioning":15,"../mixins/Selecting":16,"../sources/SelectSource":19,"../util/debounce":21,"../util/dom":22,"./Icon":3,"./Panel":6,"./PresentText":7,extend:1}],10:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("../components/StormBox"),a=o(s),l=e("../util/dom"),u=function(){function e(){i(this,e)}return r(e,null,[{key:"byId",value:function e(t){return document.getElementById(t)}},{key:"byName",value:function e(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],o=(this instanceof HTMLElement?this:document).getElementsByName(t);return o.length&&o[n]?o[n]:null}},{key:"autoCompleteByKey",value:function e(t){var n=document.querySelector('[data-autocomplete-key="'+t+'"]');if(!n)return null;if(!n.autoComplete)throw new Error("Field is not an autocomplete!",n);return n.autoComplete}},{key:"isFrom",value:function e(t,n){for(;t;){if(t===n)return!0;t=t.parentNode}return!1}},{key:"autoCompleteByName",value:function e(t){var n=a.default.byName(t);if(!n)return null;if(!n.autoComplete)throw new Error("Field is not an autocomplete!",n);return n.autoComplete}},{key:"responseToText",value:function e(t){return(0,l.div)({innerHTML:t}).innerText.replace(/[\n\r]/g," ")}},{key:"truncate",value:function e(t){var n=arguments.length<=1||void 0===arguments[1]?320:arguments[1];return t=String(t).trim(),t.length>n?t.substr(0,n)+"...":t}},{key:"interpret",value:function e(t){return"true"===t||"false"!==t&&(isNaN(t)?t:+t)}},{key:"projectElementSettings",value:function e(t,n){var o=n.content,i=n.value,r=n.disabled,s=n.readonly,l=n.required,u=n.visibility,c=n.removed,p=n.label,f=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],d=f.defaultDisplayShow,h=void 0===d?"inline-block":d;if("undefined"==typeof i&&"undefined"!=typeof t.dataset.oldValue&&(i=t.dataset.oldValue),"undefined"!=typeof i&&("undefined"==typeof t.dataset.oldValue&&(t.dataset.oldValue=t.value),t.value=i,"undefined"!=typeof t.autoComplete&&(t.autoComplete.components.presentText.value(i||""),t.autoComplete.value=i)),"undefined"==typeof r&&"undefined"!=typeof t.dataset.oldDisabled&&(r=a.default.interpret(t.dataset.oldDisabled)),"undefined"!=typeof r&&("undefined"==typeof t.dataset.oldDisabled&&(t.dataset.oldDisabled=t.disabled),t.disabled=r),"undefined"==typeof s&&"undefined"!=typeof t.dataset.oldReadOnly&&(s=a.default.interpret(t.dataset.oldReadOnly)),"undefined"!=typeof s&&("undefined"==typeof t.dataset.oldReadOnly&&(t.dataset.oldReadOnly=t.readonly),t.readonly=s),"undefined"==typeof l&&"undefined"!=typeof t.dataset.oldRequired&&(l=a.default.interpret(t.dataset.oldRequired)),"undefined"!=typeof l&&("undefined"==typeof t.dataset.oldRequired&&(t.dataset.oldRequired=t.required),t.required=l),"undefined"==typeof u&&"undefined"!=typeof t.dataset.oldVisibility&&(u=a.default.interpret(t.dataset.oldVisibility)),"undefined"!=typeof u&&("undefined"==typeof t.dataset.oldVisibility&&(t.dataset.oldVisibility="none"!==t.style.display),t.style.display=u?h:"none"),"undefined"==typeof o&&"undefined"!=typeof t.dataset.oldContent&&(o=t.dataset.oldContent),"undefined"!=typeof o){var m=document.querySelector('[data-autocomplete-text-key="'+t.dataset.autocompleteKey+'"]');if(!m)throw new Error("Unknow text element to ",t);"undefined"==typeof t.dataset.oldContent&&(t.dataset.oldContent=m.value),m.autoComplete.content=o,m.autoComplete.components.presentText.text(o||" "),m.value=o}1==c&&t.parentNode.removeChild(t)}}]),e}();u.currentSerialKey=0,n.default=u,window.isFrom=u.isFrom},{"../components/StormBox":9,"../util/dom":22}],11:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./components/StormBox"),r=o(i),s=e("./sources/Source"),a=o(s),l=e("./sources/AjaxSource"),u=o(l),c=e("./sources/SelectSource"),p=o(c),f=e("./sources/ArraySource"),d=o(f);r.default.AjaxSource=u.default,r.default.SelectSource=p.default,r.default.ArraySource=d.default,r.default.abstracts={Source:a.default},n.default=r.default,"undefined"!=typeof window&&(window.StormBoxWidget=r.default)},{"./components/StormBox":9,"./sources/AjaxSource":17,"./sources/ArraySource":18,"./sources/SelectSource":19,"./sources/Source":20}],12:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("../components/StormBox"),c=o(u),p=e("../util/events"),f=e("../util/keys"),d=[f.ENTER,f.ARROW_DOWN,f.ARROW_UP,f.ARROW_LEFT,f.ARROW_RIGHT,f.SHIFT,f.TAB];n.default=function(e){return function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"prepareEvents",value:function e(){var t;(t=this.components.presentText.element,p.on).call(t,"click",this.iconOrTextClick.bind(this)),(t=this.components.icon.element,p.on).call(t,"click",this.iconOrTextClick.bind(this)),(t=this.elements.wrapper,p.on).call(t,"keyup",this.keyUp.bind(this)),(t=this.elements.wrapper,p.on).call(t,"keydown",this.keyDown.bind(this)),(t=this.elements.wrapper,p.on).call(t,"focus",this.wrapperFocus.bind(this)),(t=this.elements.wrapper,p.on).call(t,"mousedown",this.wrapperMouseDown.bind(this)),(t=this.elements.wrapper,p.on).call(t,"blur",this.blur.bind(this)),(t=this.components.panel.components.searchInput.elements.input,p.on).call(t,"blur",this.blur.bind(this)),(t=window,p.on).call(t,"scroll",this.scroll.bind(this)),(t=window,p.on).call(t,"resize",this.resize.bind(this)),this.debouncedLayoutChange()}},{key:"scroll",value:function e(){this.debouncedLayoutChange()}},{key:"resize",value:function e(){this.debouncedLayoutChange()}},{key:"layoutChange",value:function e(){if(this.open){var t=this.topSpace(),n=this.bottomSpace(),o=this.direction;t>n&&n<300?this.direction="top":this.direction="bottom",o!==this.direction&&this.updateDirection(),"top"===this.direction?this.heightSpace=t:this.heightSpace=n,this.components.panel.components.list.render()}}},{key:"keyDown",value:function e(t){this.open&&t.keyCode==f.ARROW_UP?(t.preventDefault(),t.stopPropagation(),this.components.panel.components.list.up()):this.open&&t.keyCode==f.ARROW_DOWN?(t.preventDefault(),t.stopPropagation(),this.components.panel.components.list.down()):this.open&&t.keyCode==f.ENTER?(t.preventDefault(),t.stopPropagation(),this.components.panel.components.list.selectCurrent()):this.open&&t.keyCode==f.TAB&&!t.shiftKey?this.components.panel.components.list.selectCurrent():t.keyCode==f.TAB&&t.shiftKey&&document.activeElement==this.components.panel.components.searchInput.elements.input&&(this.ignoreFocus=!0)}},{key:"keyUp",value:function e(t){t.keyCode===f.ESC?(this.closePanel(),this.ignoreFocus=!0,this.elements.wrapper.focus()):t.target===this.elements.wrapper&&t.keyCode==f.SPACE?(t.preventDefault(),t.stopPropagation(),this.togglePanel()):t.keyCode==f.ARROW_UP||t.keyCode==f.ARROW_DOWN||t.keyCode==f.ENTER?(t.preventDefault(),t.stopPropagation()):d.indexOf(t.keyCode)==-1&&(this.typing||(this.typing=!0,this.clearOnType&&this.select({content:null,value:null}),this.components.panel.clear()),this.debouncedFind())}},{key:"iconOrTextClick",value:function e(t){document.activeElement===this.elements.wrapper}},{key:"wrapperFocus",value:function e(t){t.isTrigger||this.ignoreFocus||this.openPanel(),this.ignoreFocus=!1}},{key:"blur",value:function e(t){if(!this.ignoreBlur){var n;if(this.value!==this.valueOnOpen){var o;this.valueOnOpen=this.value,(o=this.elements.hiddenInput,p.trigger).call(o,"change"),(o=this.elements.textInput,p.trigger).call(o,"change")}(n=this.elements.hiddenInput,p.trigger).call(n,"blur"),(n=this.elements.textInput,p.trigger).call(n,"blur"),this.closePanel()}this.ignoreBlur=!1}},{key:"wrapperMouseDown",value:function e(t){this.open||document.activeElement!==this.elements.wrapper?this.open&&document.activeElement===this.elements.wrapper?(this.ignoreBlur=!0,this.components.panel.components.searchInput.elements.input.focus(),this.ignoreFocus=!0,s):document.activeElement===this.components.panel.components.searchInput.elements.input&&(!this.open||c.default.isFrom(t.target,this.components.panel.components.pagination.elements.goLeft)||c.default.isFrom(t.target,this.components.panel.components.pagination.elements.goRight)||this.closePanel(),this.ignoreFocus=!0,this.ignoreBlur=!0):this.openPanel()}}]),t}(e)}},{"../components/StormBox":9,"../util/events":23,"../util/keys":24}],13:[function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0
});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){return function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"find",value:function e(){var t=this;return new Promise(function(e,n){t.finding&&(console.log("Let`s abort!"),t.source.abort(),t.findingEnd());var i=t.components.panel.components.searchInput.value();if(!(i.length<t.minLength)){t.findingStart();var r=a({},t.otherParams,o({},t.queryParam,i));Object.keys(t.references).forEach(function(e){if(!t.references[e])throw new Error("Reference "+e+" is not valid!");r[e]=t.references[e].value});var s={data:[]};t.source.find(r).then(function(e){t.lastParams=r,s=e,t.components.panel.show(s),!t.autoSelectWhenOneResult||t.open&&t.emptyItem||!s||!s.data||1!=s.data.length?t.open||t.autoFind&&!(s&&s.data&&s.data.length>1)||t.openPanel():t.select({content:s.data[0].content,value:s.data[0].value}),t.findingEnd()}).catch(function(e){t.components.panel.error(e),!t.autoSelectWhenOneResult||t.open&&t.emptyItem||!s||!s.data||1!=s.data.length?t.open||t.autoFind&&!(s&&s.data&&s.data.length>1)||t.openPanel():t.select({content:s.data[0].content,value:s.data[0].value}),t.findingEnd()})}})}},{key:"feed",value:function e(t){var n=this;return this.findingStart(),this.source.find(a({},this.lastParams,{offset:t})).then(function(e){return n.findingEnd(),e.data}).catch(function(e){n.components.panel.error(e),n.findingEnd()})}},{key:"findingStart",value:function e(){this.typing=!1,this.finding=!0,this.components.icon.loadingStart()}},{key:"findingEnd",value:function e(){this.finding=!1,this.components.icon.loadingStop()}}]),t}(e)}},{}],14:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){return function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),s(t,[{key:"openPanel",value:function e(){this.open=!0,this.valueOnOpen=this.value,this.elements.wrapper.className=this.style.openWrapper,this.components.panel.element.style.display="inline-block",this.ignoreBlur=!0,this.components.panel.components.searchInput.elements.input.focus(),this.components.panel.components.searchInput.elements.input.setSelectionRange(0,this.components.panel.components.searchInput.elements.input.value.length),this.autoFind&&this.debouncedFind(),this.components.presentText.scrollToHide(),this.layoutChange(),this.updateDirection()}},{key:"closePanel",value:function e(){this.open=!1,this.elements.wrapper.className=this.style.wrapper,this.components.panel.element.style.display="none",this.layoutChange(),this.updateDirection()}},{key:"togglePanel",value:function e(){this.open?this.closePanel():this.openPanel()}}]),t}(e)}},{}],15:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){return function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),s(t,[{key:"topSpace",value:function e(){return this.elements.wrapper.offsetTop-window.scrollY}},{key:"bottomSpace",value:function e(){return window.innerHeight-(this.topSpace()+this.elements.wrapper.getBoundingClientRect().height)}},{key:"updateDirection",value:function e(){console.log("direction: "+this.direction),"top"===this.direction?(this.elements.wrapper.classList.remove(this.style.bottom),this.elements.wrapper.classList.add(this.style.top)):(this.elements.wrapper.classList.remove(this.style.top),this.elements.wrapper.classList.add(this.style.bottom))}}]),t}(e)}},{}],16:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("../components/StormBox"),u=o(l);n.default=function(e){return function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"select",value:function e(t){var n=t.content,o=t.value,i=t.additional,r=t.others;this.value=o,this.content=n,this.elements.hiddenInput.value=o||"",this.elements.textInput.value=n||"",this.components.presentText.value(o||""),this.components.presentText.text(n||" "),this.setOrClearOtherFields(r)}},{key:"setOrClearOtherFields",value:function e(){for(var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=t.length,o=this.usedOtherFields.slice(0),i=0;i<n;i++){var r=this.usedOtherFields.indexOf(t[i].field),s=document.querySelector('[name="'+t[i].field+'"]');if(!s)throw new Error("Element of other field '"+t[i].field+"' not found!");u.default.projectElementSettings(s,t[i]),r===-1?this.usedOtherFields[this.usedOtherFields.length]=t[i].field:o.splice(o.indexOf(t[i].field),1)}for(var a=o.length,l=0;l<a;l++){var c=document.querySelector('[name="'+o[l]+'"]');u.default.projectElementSettings(c,{})}}}]),t}(e)}},{"../components/StormBox":9}],17:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("./Source"),a=o(s),l=function(){function e(t){i(this,e),this.url=t,this.request=null}return r(e,[{key:"prepareRequest",value:function e(t){this.request=new XMLHttpRequest;var n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");this.request.open("GET",this.url+"?"+n,!0)}},{key:"abort",value:function e(){this.request&&this.request.abort&&this.request.abort()}},{key:"send",value:function e(){var t=this;return new Promise(function(e,n){t.request.onreadystatechange=function(){if(console.log("readyState change",t.request.readyState,t.request.status,t.request),4==t.request.readyState&&200==t.request.status){var o=void 0;try{o=JSON.parse(t.request.responseText)}catch(i){return n(new Error("Parsing Error: invalid response. "+t.request.responseText.replace(/\n/,"")))}t.request=null,e(o)}else if(4==t.request.readyState&&200!=t.request.status){var r="Error Code: "+t.request.status;try{var s=JSON.parse(t.request.responseText);r+=t.request.statusText&&t.request.statusText.trim().length?"; Status: "+t.request.statusText:"",r+=s.message?s.message&&s.message.trim().length?"; Status: "+s.message.trim():"":t.request.responseText&&t.request.responseText.trim().length?"; Status: "+t.request.responseText.trim():""}catch(i){r+=t.request.statusText&&t.request.statusText.trim().length?"; Status: "+t.request.statusText:"",r+=t.request.responseText&&t.request.responseText.trim().length?"; Status: "+t.request.responseText.trim():""}n(new Error(r))}},t.request.send()})}},{key:"find",value:function e(t){return this.prepareRequest(t),this.send()}}]),e}();n.default=l},{"./Source":20}],18:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("./Source"),a=o(s),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,e),this.data=t}return r(e,[{key:"find",value:function e(t){var n=this,o=t.value;return new Promise(function(e){e({data:n.data})})}}]),e}();n.default=l},{"./Source":20}],19:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("./Source"),a=o(s),l=function(){function e(){i(this,e)}return r(e,[{key:"find",value:function e(t){var n=t.value;return new Promise(function(e){return e()})}}]),e}();n.default=l},{"./Source":20}],20:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e)}return i(e,[{key:"find",value:function e(t){var n=t.value;return new Promise(function(e,t){return t(new Error("Source class is abstract!"))})}},{key:"abort",value:function e(){}}]),e}();n.default=r},{}],21:[function(e,t,n){"use strict";function o(e,t,n){var o;return function(){var i=this,r=arguments,s=function t(){o=null,n||e.apply(i,r)},a=n&&!o;clearTimeout(o),o=setTimeout(s,t),a&&e.apply(i,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{}],22:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=document.createElement(e);(0,m.default)(n,t);for(var o=arguments.length,i=Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];return i.forEach(function(e){n.appendChild(e)}),n}function r(e){return i("input",e)}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["div",e].concat(n))}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["ul",e].concat(n))}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["li",e].concat(n))}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["strong",e].concat(n))}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["a",e].concat(n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["i",e].concat(n))}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["strong",e].concat(n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["span",e].concat(n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,["button",e].concat(n))}Object.defineProperty(n,"__esModule",{value:!0}),n.elem=i,n.input=r,n.div=s,n.ul=a,n.li=l,n.strong=u,n.a=c,n.i=p,n.strong=u,n.span=f,n.button=d;var h=e("extend"),m=o(h)},{extend:1}],23:[function(e,t,n){"use strict";function o(e){if(window.CustomEvent){var t=new CustomEvent(e);t.isTrigger=!0,this.dispatchEvent(t)}else if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),t.isTrigger=!0,this.dispatchEvent(t)}else this.fireEvent("on"+e)}function i(e,t){return this.addEventListener(e,t),this}Object.defineProperty(n,"__esModule",{value:!0}),n.trigger=o,n.on=i},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=n.ENTER=13,i=n.SPACE=32,r=n.ESC=27,s=n.ARROW_UP=38,a=n.ARROW_DOWN=40,l=n.ARROW_RIGHT=39,u=n.ARROW_LEFT=37,c=n.TAB=9,p=n.SHIFT=16},{}]},{},[11])(11)});