!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){(function(t,n){!function(t){"use strict";function r(e,t,n,r){var o=Object.create((t||i).prototype),s=new d(r||[]);return o._invoke=p(e,n,s),o}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function s(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){this.arg=e}function c(e){function t(t,n){var r=e[t](n),o=r.value;return o instanceof l?Promise.resolve(o.arg).then(i,s):Promise.resolve(o).then(function(e){return r.value=e,r})}function r(e,n){function r(){return t(e,n)}return o=o?o.then(r,r):new Promise(function(e){e(r())})}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var o,i=t.bind(e,"next"),s=t.bind(e,"throw");t.bind(e,"return");this._invoke=r}function p(e,t,n){var r=O;return function(i,s){if(r===E)throw new Error("Generator is already running");if(r===P){if("throw"===i)throw s;return y()}for(;;){var a=n.delegate;if(a){if("return"===i||"throw"===i&&a.iterator[i]===v){n.delegate=null;var u=a.iterator["return"];if(u){var l=o(u,a.iterator,s);if("throw"===l.type){i="throw",s=l.arg;continue}}if("return"===i)continue}var l=o(a.iterator[i],a.iterator,s);if("throw"===l.type){n.delegate=null,i="throw",s=l.arg;continue}i="next",s=v;var c=l.arg;if(!c.done)return r=k,c;n[a.resultName]=c.value,n.next=a.nextLoc,n.delegate=null}if("next"===i)n._sent=s,r===k?n.sent=s:n.sent=v;else if("throw"===i){if(r===O)throw r=P,s;n.dispatchException(s)&&(i="next",s=v)}else"return"===i&&n.abrupt("return",s);r=E;var l=o(e,t,n);if("normal"===l.type){r=n.done?P:k;var c={value:l.arg,done:n.done};if(l.arg!==_)return c;n.delegate&&"next"===i&&(s=v)}else"throw"===l.type&&(r=P,i="throw",s=l.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function o(){for(;++n<e.length;)if(b.call(e,n))return o.value=e[n],o.done=!1,o;return o.value=v,o.done=!0,o};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,b=Object.prototype.hasOwnProperty,w="function"==typeof Symbol&&Symbol.iterator||"@@iterator",g="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(g&&(e.exports=x));x=t.regeneratorRuntime=g?e.exports:{},x.wrap=r;var O="suspendedStart",k="suspendedYield",E="executing",P="completed",_={},T=a.prototype=i.prototype;s.prototype=T.constructor=a,a.constructor=s,s.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a,e.prototype=Object.create(T),e},x.awrap=function(e){return new l(e)},u(c.prototype),x.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(T),T[w]=function(){return this},T.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=m,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=b.call(o,"catchLoc"),a=b.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?this.next=o.finallyLoc:this.complete(i),_},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),_}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},_}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(2))},function(e,t){function n(){p&&l&&(p=!1,l.length?c=l.concat(c):f=-1,c.length&&r())}function r(){if(!p){var e=s(n);p=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,p=!1,a(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var s,a,u=e.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var l,c=[],p=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||p||s(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),s=n(8),a=r(s),u=n(24),l=r(u),c=n(7),p=r(c),f=n(25),h=r(f);i["default"].sources={AjaxSource:l["default"],SelectSource:p["default"],ArraySource:h["default"]},i["default"].abstracts={Source:a["default"]},"undefined"!=typeof window&&(window.AutoComplete=i["default"]),t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=r(l),p=n(6),f=r(p),h=n(11),d=r(h),m=n(12),y=r(m),v=n(7),b=r(v),w=n(16),g=r(w),x=n(17),O=r(x),k=n(19),E=r(k),P=n(20),_=r(P),T=n(21),I=r(T),j=n(22),C=r(j),S=n(23),R=r(S),A=n(9),L=(0,I["default"])((0,_["default"])((0,E["default"])((0,C["default"])((0,O["default"])(g["default"]))))),N=function(e){function t(e){i(this,t);var n=e.hiddenInput,r=e.textInput,o=e.source,a=e.selectInput,u=e.style,l=void 0===u?{}:u,p=e.customText,h=void 0===p||p,m=e.debounceTime,v=void 0===m?600:m,w=e.queryParam,g=void 0===w?"q":w,x=e.minLength,O=void 0===x?1:x,k=e.clearOnType,E=void 0!==k&&k,P=e.autoFind,_=void 0!==P&&P,T=e.autoSelectWhenOneResult,I=void 0===T||T,j=e.emptyItem,C=e.messages,S=void 0===C?{}:C,L=e.references,N=void 0===L?{}:L,M=e.otherParams,q=void 0===M?{}:M,F=e.showValue,V=void 0===F||F,W=e.valueInOthersAs,D=void 0===W?"ID":W,B=s(this,Object.getPrototypeOf(t).call(this,e));if(B.key=t.currentSerialKey++,B.finding=!1,B.open=!1,B.typing=!1,B.ignoreFocus=!1,B.ignoreBlur=!1,B.valueOnOpen=void 0,B.usedOtherFields=[],B.direction="down",B.references=N,B.otherParams=q,B.queryParam=g,B.clearOnType=E,B.autoFind=_,B.minLength=O,B.showValue=V,B.customText=h,B.autoSelectWhenOneResult=I,B.valueInOthersAs=D,B.emptyItem="undefined"!=typeof j?j:!n.hasAttribute("required")&&!r.hasAttribute("required"),!o&&!a)throw new Error("Set a source or a selectInput.");return B.source=o||new b["default"](a),B.style=(0,c["default"])({hiddenInput:"ac-hidden-input",textInput:"ac-text-input",panel:"ac-panel",listWrapper:"ac-list-wrapper",item:"ac-item",emptyItem:"ac-empty-item",customTextItem:"ac-custom-text-item",additional:"ac-additional",searchInput:"ac-search-input",searchInputWrapper:"ac-search-input-wrapper",presentText:"ac-present-text",presentCropText:"ac-present-crop-text",presentTextItems:"ac-present-items",presentInnerText:"ac-present-inner-text",presentInnerValue:"ac-present-inner-value",errorView:"ac-error-view",errorViewWrapper:"ac-error-view-wrapper",wrapper:"ac-wrapper",top:"ac-top",bottom:"ac-bottom",openWrapper:"ac-wrapper ac-open-wrapper",rightIcon:"fa fa-search ac-icon",loadingRightIcon:"fa fa-spinner ac-icon ac-loading-icon"},l),B.messages=(0,c["default"])({searchPlaceholder:"Search...",emptyItemName:"Empty"},S),B.elements={hiddenInput:n,textInput:r,wrapper:(0,A.div)({className:B.style.wrapper})},B.debouncedFind=(0,R["default"])(B.find.bind(B),v),B.debouncedLayoutChange=(0,R["default"])(B.layoutChange.bind(B),250),B.components={presentText:new f["default"]({style:B.style},{},B),icon:new d["default"]({style:B.style}),panel:new y["default"]({style:B.style},{onSelect:B.select.bind(B)},B)},B.prepareElements(),B}return a(t,e),u(t,[{key:"prepareElements",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.elements.wrapper.setAttribute("tabindex","0"),this.value=this.elements.hiddenInput.value,this.content=this.elements.textInput.value,this.elements.textInput.parentNode.insertBefore(this.elements.wrapper,this.elements.textInput.nextSibling),this.elements.hiddenInput.parentNode.removeChild(this.elements.hiddenInput),this.elements.textInput.parentNode.removeChild(this.elements.textInput),this.elements.hiddenInput.autoComplete=this,this.elements.hiddenInput.type="hidden",this.elements.hiddenInput.className=this.style.hiddenInput,this.elements.hiddenInput.dataset.autocompleteKey=this.key,this.elements.textInput.autoComplete=this,this.elements.textInput.type="hidden",this.elements.textInput.className=this.style.textInput,this.elements.textInput.dataset.autocompleteTextKey=this.key,this.components.presentText.value(this.value),this.components.presentText.text(this.content),this.elements.wrapper.appendChild(this.elements.hiddenInput),this.elements.wrapper.appendChild(this.elements.textInput),this.elements.wrapper.appendChild(this.components.presentText.element),this.elements.wrapper.appendChild(this.components.icon.element),this.elements.wrapper.appendChild(this.components.panel.element),this.prepareEvents();case 22:case"end":return e.stop()}},n,this)}));return e}()}]),t}(L);t["default"]=N},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!o)return!1;var i;for(i in e);return"undefined"==typeof i||n.call(e,i)};e.exports=function s(){var e,t,n,r,a,u,l=arguments[0],c=1,p=arguments.length,f=!1;for("boolean"==typeof l?(f=l,l=arguments[1]||{},c=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});c<p;++c)if(e=arguments[c],null!=e)for(t in e)n=l[t],r=e[t],l!==r&&(f&&r&&(i(r)||(a=o(r)))?(a?(a=!1,u=n&&o(n)?n:[]):u=n&&i(n)?n:{},l[t]=s(f,u,r)):"undefined"!=typeof r&&(l[t]=r));return l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),a=(r(s),n(7)),u=(r(a),n(9)),l=n(10),c=function(){function e(t,n,r){var i,s=t.style,a=s.presentText,c=s.presentInnerText,p=s.presentCropText,f=s.presentInnerValue,h=s.presentTextItems;o(this,e),this.autocomplete=r,this.elements={},this.elements.inner=(0,u.div)({className:c}),this.elements.innerValue=(0,u.div)({className:f}),this.elements.items=(0,u.div)({className:h},this.elements.innerValue,this.elements.inner),this.elements.crop=(0,u.div)({className:p},this.elements.items),this.element=(i=(i=(0,u.div)({className:a},this.elements.crop),l.on).call(i,"mouseenter",this.scrollToShow.bind(this)),l.on).call(i,"mouseout",this.scrollToHide.bind(this))}return i(e,[{key:"scrollToShow",value:function(){this.autocomplete.open||(this.elements.items.style.webkitTransition="left linear 3s",this.elements.items.style.mozTransition="left linear 3s",this.elements.items.style.oTransition="left linear 3s",this.elements.items.style.transition="left linear 3s",this.elements.items.style.left="-"+Math.max(0,Math.floor(("none"===this.elements.innerValue.style.display?0:this.elements.innerValue.getBoundingClientRect().width)+this.elements.inner.getBoundingClientRect().width-this.elements.crop.getBoundingClientRect().width))+"px")}},{key:"scrollToHide",value:function(){this.elements.items.style.webkitTransition="left linear 600ms",this.elements.items.style.mozTransition="left linear 600ms",this.elements.items.style.oTransition="left linear 600ms",this.elements.items.style.transition="left linear 600ms",this.elements.items.style.left="0px"}},{key:"text",value:function(e){this.elements.inner.innerText=e}},{key:"value",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.autocomplete.showValue&&String(e).length?(this.elements.innerValue.innerText=e,this.elements.innerValue.style.display="inline-block"):this.elements.innerValue.style.display="none"}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),u=(r(a),function(){function e(){i(this,e)}return s(e,[{key:"find",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){e.value;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},n,this)}));return e}()}]),e}());t["default"]=u},function(e,t){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"find",value:function(){function e(e){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function r(e){e.value;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Source class is abstract!");case 1:case"end":return e.stop()}},r,this)}));return e}()},{key:"abort",value:function(){}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=document.createElement(e);(0,d["default"])(n,t);for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return o.forEach(function(e){n.appendChild(e)}),n}function i(e){return o("input",e)}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["div",e].concat(n))}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["ul",e].concat(n))}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["li",e].concat(n))}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["strong",e].concat(n))}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["a",e].concat(n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["i",e].concat(n))}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["strong",e].concat(n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,["span",e].concat(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.elem=o,t.input=i,t.div=s,t.ul=a,t.li=u,t.strong=l,t.a=c,t.i=p,t.strong=l,t.span=f;var h=n(5),d=r(h)},function(e,t){"use strict";function n(e){if(window.CustomEvent){var t=new CustomEvent(e);t.isTrigger=!0,this.dispatchEvent(t)}else if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),t.isTrigger=!0,this.dispatchEvent(t)}else this.fireEvent("on"+e)}function r(e,t){return this.addEventListener(e,t),this}Object.defineProperty(t,"__esModule",{value:!0}),t.trigger=n,t.on=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),a=(r(s),n(7)),u=(r(a),n(9)),l=(n(10),function(){function e(t){var n=t.style;o(this,e),this.style=n,this.element=(0,u.i)({className:n.rightIcon})}return i(e,[{key:"loadingStart",value:function(){this.element.className=this.style.loadingRightIcon}},{key:"loadingStop",value:function(){this.element.className=this.style.rightIcon}}]),e}());t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),a=(r(s),n(7)),u=(r(a),n(13)),l=r(u),c=n(14),p=r(c),f=n(15),h=r(f),d=n(9),m=function(){function e(t,n,r){var i=t.style,s=n.onSelect;o(this,e),this.components={searchInput:new l["default"]({style:i},(void 0),r),errorView:new p["default"]({style:i}),list:new h["default"]({style:i},{onSelect:s},r)},this.element=(0,d.div)({className:i.panel},this.components.searchInput.elements.wrapper,this.components.errorView.elements.wrapper,this.components.list.elements.wrapper)}return i(e,[{key:"show",value:function(e){this.components.list.show(e.data)}},{key:"error",value:function(e){var t=e.message;this.components.errorView.show(t)}},{key:"clear",value:function(){this.components.errorView.hide(),this.components.list.hide()}}]),e}();t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),a=(r(s),n(7)),u=(r(a),n(9)),l=function(){function e(t,n,r){var i=t.style;o(this,e),this.elements={},this.elements.wrapper=(0,u.div)({className:i.searchInputWrapper},this.elements.input=(0,u.input)({className:i.searchInput,placeholder:r.messages.searchPlaceholder}))}return i(e,[{key:"value",value:function(e){return"undefined"!=typeof e?(this.elements.input.value=e,this):this.elements.input.value}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),a=(r(s),n(7)),u=(r(a),n(9)),l=function(){function e(t){var n=t.style;o(this,e),this.elements={},this.elements.wrapper=(0,u.div)({className:n.errorViewWrapper},this.elements.error=(0,u.div)({className:n.errorView})),this.hide()}return i(e,[{key:"show",value:function(e){this.elements.error.innerText=e,this.elements.wrapper.style.display="block"}},{key:"hide",value:function(){this.elements.wrapper.style.display="none"}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),u=(r(a),n(7)),l=(r(u),n(9)),c=function(){function e(t,n,r){var o=t.style,s=n.onSelect;i(this,e),this.elements={},this.onSelect=s,this.autocomplete=r,this.style=o,this.items=null,this.selectedIndex=0,this.searchInput=null,this.elements.wrapper=(0,l.div)({className:o.listWrapper},this.elements.ul=(0,l.ul)()),this.hide()}return s(e,[{key:"show",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.items=e,this.elements.wrapper.style.display="block",this.render()}},{key:"render",value:function(){var e=this;if(this.items&&this.autocomplete.open){this.elements.ul.innerHTML="",this.searchInput=this.autocomplete.components.panel.components.searchInput;var t=this.items.length,n=0;if(this.autocomplete.emptyItem){var r=(0,l.div)({className:this.style.item+" "+this.style.emptyItem,innerText:this.autocomplete.messages.emptyItemName});this.prepareItemEvents(r,{content:null,value:null},n);var i=(0,l.li)({},r);this.elements.ul.appendChild(i),n++}var s=null;if(this.autocomplete.customText&&this.searchInput.value().trim().length){var a=this.searchInput.value().trim(),u=(0,l.div)({className:this.style.item+" "+this.style.customTextItem,innerText:a});this.prepareItemEvents(u,{content:a,value:null},n),s=(0,l.li)({},u),this.elements.ul.appendChild(s),n++}for(var c=0;c<t;c++){var p=(0,l.span)({innerText:this.items[c].content}),f=null;this.items[c].additional&&this.items[c].additional.length&&(f="string"!=typeof this.autocomplete.valueInOthersAs?l.div.call.apply(l.div,[null,{}].concat(o(this.items[c].additional.map(function(t){var n=t.label,r=t.content;return(0,l.div)({className:e.style.additional},(0,l.strong)({innerText:n+": "}),(0,l.span)({innerText:r}))})))):l.div.call.apply(l.div,[null,{},(0,l.div)({className:this.style.additional},(0,l.strong)({innerText:this.autocomplete.valueInOthersAs+": "}),(0,l.span)({innerText:this.items[c].value}))].concat(o(this.items[c].additional.map(function(t){var n=t.label,r=t.content;return(0,l.div)({className:e.style.additional},(0,l.strong)({innerText:n+": "}),(0,l.span)({innerText:r}))})))));var h=(0,l.div)({className:this.style.item},p);f&&h.appendChild(f),this.prepareItemEvents(h,this.items[c],n);var d=(0,l.li)({},h);if(s?this.elements.ul.insertBefore(d,s):this.elements.ul.appendChild(d),n++,this.autocomplete.components.panel.element.getBoundingClientRect().height>this.autocomplete.heightSpace){this.elements.ul.removeChild(d),n--;break}}this.items.length>=1?this.updateSelection(1):this.updateSelection(0)}}},{key:"prepareItemEvents",value:function(e,t,n){var r=this;e.addEventListener("mouseenter",function(e){r.updateSelection(n)}),e.addEventListener("mousedown",function(e){r.onSelect(t),r.autocomplete.closePanel()})}},{key:"up",value:function(){this.elements.ul.children.length&&this.updateSelection(this.selectedIndex-1)}},{key:"down",value:function(){this.elements.ul.children.length&&this.updateSelection(this.selectedIndex+1)}},{key:"selectCurrent",value:function(){this.autocomplete.emptyItem&&0==this.selectedIndex?this.onSelect({content:null,value:null}):this.autocomplete.customText&&this.selectedIndex==this.elements.ul.children.length-1&&this.searchInput.value().trim().length?this.onSelect({value:null,content:this.searchInput.value().trim()}):this.autocomplete.emptyItem?this.onSelect(this.items[this.selectedIndex-1]):this.onSelect(this.items[this.selectedIndex]),this.autocomplete.closePanel(),document.activeElement!=this.autocomplete.elements.wrapper&&(this.autocomplete.ignoreFocus=!0,console.log(this.autocomplete.elements.wrapper),this.autocomplete.elements.wrapper.focus())}},{key:"updateSelection",value:function(e){var t=this.selectedIndex,n=this.elements.ul.children;this.selectedIndex=Math.max(0,Math.min(n.length-1,e));var r=n[t];r&&r.children[0].classList.remove("active"),n[this.selectedIndex].children[0].classList.add("active")}},{key:"hide",value:function(){this.elements.wrapper.style.display="none"}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"byId",value:function(e){return document.getElementById(e)}},{key:"byName",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=(this instanceof HTMLElement?this:document).getElementsByName(e);return n.length&&n[t]?n[t]:null}},{key:"autoCompleteByKey",value:function(e){var t=document.querySelector('[data-autocomplete-key="'+e+'"]');if(!t)return null;if(!t.autoComplete)throw new Error("Field is not an autocomplete!",t);return t.autoComplete}},{key:"autoCompleteByName",value:function(e){var t=AutoComplete.byName(e);if(!t)return null;if(!t.autoComplete)throw new Error("Field is not an autocomplete!",t);return t.autoComplete}},{key:"interpret",value:function(e){return"true"===e||"false"!==e&&(isNaN(e)?e:+e)}},{key:"projectElementSettings",value:function(e,t){var n=t.content,r=t.value,o=t.disabled,i=t.readonly,s=t.required,a=t.visibility,u=t.removed,l=(t.label,arguments.length<=2||void 0===arguments[2]?{}:arguments[2]),c=l.defaultDisplayShow,p=void 0===c?"inline-block":c;if("undefined"==typeof r&&"undefined"!=typeof e.dataset.oldValue&&(r=e.dataset.oldValue),"undefined"!=typeof r&&("undefined"==typeof e.dataset.oldValue&&(e.dataset.oldValue=e.value),e.value=r,"undefined"!=typeof e.autoComplete&&(e.autoComplete.components.presentText.value(r||""),e.autoComplete.value=r)),"undefined"==typeof o&&"undefined"!=typeof e.dataset.oldDisabled&&(o=AutoComplete.interpret(e.dataset.oldDisabled)),"undefined"!=typeof o&&("undefined"==typeof e.dataset.oldDisabled&&(e.dataset.oldDisabled=e.disabled),e.disabled=o),"undefined"==typeof i&&"undefined"!=typeof e.dataset.oldReadOnly&&(i=AutoComplete.interpret(e.dataset.oldReadOnly)),"undefined"!=typeof i&&("undefined"==typeof e.dataset.oldReadOnly&&(e.dataset.oldReadOnly=e.readonly),e.readonly=i),"undefined"==typeof s&&"undefined"!=typeof e.dataset.oldRequired&&(s=AutoComplete.interpret(e.dataset.oldRequired)),"undefined"!=typeof s&&("undefined"==typeof e.dataset.oldRequired&&(e.dataset.oldRequired=e.required),e.required=s),"undefined"==typeof a&&"undefined"!=typeof e.dataset.oldVisibility&&(a=AutoComplete.interpret(e.dataset.oldVisibility)),"undefined"!=typeof a&&("undefined"==typeof e.dataset.oldVisibility&&(e.dataset.oldVisibility="none"!==e.style.display),e.style.display=a?p:"none"),"undefined"==typeof n&&"undefined"!=typeof e.dataset.oldContent&&(n=e.dataset.oldContent),"undefined"!=typeof n){var f=document.querySelector('[data-autocomplete-text-key="'+e.dataset.autocompleteKey+'"]');if(!f)throw new Error("Unknow text element to ",e);"undefined"==typeof e.dataset.oldContent&&(e.dataset.oldContent=f.value),f.autoComplete.content=n,f.autoComplete.components.presentText.text(n||" "),f.value=n}1==u&&e.parentNode.removeChild(e)}}]),e}();o.currentSerialKey=0,t["default"]=o},function(e,t,n){"use strict";function r(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(10),u=n(18),l=[u.ENTER,u.ARROW_DOWN,u.ARROW_UP,u.ARROW_LEFT,u.ARROW_RIGHT,u.SHIFT,u.TAB];t["default"]=function(e){return function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"prepareEvents",value:function(){var e;(e=this.components.presentText.element,a.on).call(e,"click",this.iconOrTextClick.bind(this)),(e=this.components.icon.element,a.on).call(e,"click",this.iconOrTextClick.bind(this)),(e=this.elements.wrapper,a.on).call(e,"keyup",this.keyUp.bind(this)),(e=this.elements.wrapper,a.on).call(e,"keydown",this.keyDown.bind(this)),(e=this.elements.wrapper,a.on).call(e,"focus",this.wrapperFocus.bind(this)),(e=this.elements.wrapper,a.on).call(e,"mousedown",this.wrapperMouseDown.bind(this)),(e=this.elements.wrapper,a.on).call(e,"blur",this.blur.bind(this)),(e=this.components.panel.components.searchInput.elements.input,a.on).call(e,"blur",this.blur.bind(this)),(e=window,a.on).call(e,"scroll",this.scroll.bind(this)),(e=window,a.on).call(e,"resize",this.resize.bind(this)),this.debouncedLayoutChange()}},{key:"scroll",value:function(){this.debouncedLayoutChange()}},{key:"resize",value:function(){this.debouncedLayoutChange()}},{key:"layoutChange",value:function(){if(this.open){var e=this.topSpace(),t=this.bottomSpace(),n=this.direction;console.log("topSpace: "+e+", bottomSpace: "+t),e>t&&t<300?this.direction="top":this.direction="bottom",n!==this.direction&&this.updateDirection(),"top"===this.direction?this.heightSpace=e:this.heightSpace=t,this.components.panel.components.list.render()}}},{key:"keyDown",value:function(e){this.open&&e.keyCode==u.ARROW_UP?(e.preventDefault(),e.stopPropagation(),this.components.panel.components.list.up()):this.open&&e.keyCode==u.ARROW_DOWN?(e.preventDefault(),e.stopPropagation(),this.components.panel.components.list.down()):this.open&&e.keyCode==u.ENTER?(e.preventDefault(),e.stopPropagation(),this.components.panel.components.list.selectCurrent()):this.open&&e.keyCode==u.TAB&&!e.shiftKey?this.components.panel.components.list.selectCurrent():e.keyCode==u.TAB&&e.shiftKey&&document.activeElement==this.components.panel.components.searchInput.elements.input&&(this.ignoreFocus=!0)}},{key:"keyUp",value:function(e){e.keyCode===u.ESC?(this.closePanel(),this.ignoreFocus=!0,this.elements.wrapper.focus()):e.target===this.elements.wrapper&&e.keyCode==u.SPACE?(e.preventDefault(),e.stopPropagation(),this.togglePanel()):e.keyCode==u.ARROW_UP||e.keyCode==u.ARROW_DOWN||e.keyCode==u.ENTER?(e.preventDefault(),e.stopPropagation()):l.indexOf(e.keyCode)==-1&&(this.typing||(this.typing=!0,this.clearOnType&&this.select({content:null,value:null}),this.components.panel.clear()),this.debouncedFind())}},{key:"iconOrTextClick",value:function(e){document.activeElement===this.elements.wrapper}},{key:"wrapperFocus",value:function(e){console.log("focus... ignore focus?",this.ignoreFocus),e.isTrigger||this.ignoreFocus||this.openPanel(),this.ignoreFocus=!1}},{key:"blur",value:function(e){if(!this.ignoreBlur){var t;if(this.value!==this.valueOnOpen){var n;this.valueOnOpen=this.value,(n=this.elements.hiddenInput,a.trigger).call(n,"change"),(n=this.elements.textInput,a.trigger).call(n,"change")}(t=this.elements.hiddenInput,a.trigger).call(t,"blur"),(t=this.elements.textInput,a.trigger).call(t,"blur"),this.closePanel()}this.ignoreBlur=!1}},{key:"wrapperMouseDown",value:function(e){console.log("event.target",e.target),console.log("this.open",this.open),console.log("document.activeElement",document.activeElement),this.open||document.activeElement!==this.elements.wrapper?this.open&&document.activeElement===this.elements.wrapper?(console.log(2),this.ignoreBlur=!0,this.components.panel.components.searchInput.elements.input.focus(),this.ignoreFocus=!0):document.activeElement===this.components.panel.components.searchInput.elements.input?(this.open&&this.closePanel(),this.ignoreFocus=!0,this.ignoreBlur=!0):(console.log(4),console.log("else")):(console.log(1),this.openPanel())}}]),t}(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ENTER=13,t.SPACE=32,t.ESC=27,t.ARROW_UP=38,t.ARROW_DOWN=40,t.ARROW_RIGHT=39,t.ARROW_LEFT=37,t.TAB=9,t.SHIFT=16},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){return function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"find",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function o(){var e,t,r,i=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.finding&&(console.log("Let`s abort!"),this.source.abort(),this.findingEnd()),e=this.components.panel.components.searchInput.value(),!(e.length<this.minLength)){o.next=4;break}return o.abrupt("return");case 4:return this.findingStart(),t=a({},this.otherParams,n({},this.queryParam,e)),Object.keys(this.references).forEach(function(e){if(!i.references[e])throw new Error("Reference "+e+" is not valid!");t[e]=i.references[e].value}),r={data:[]},o.prev=8,o.next=11,this.source.find(t);case 11:r=o.sent,this.components.panel.show(r),o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](8),this.components.panel.error(o.t0);case 18:return o.prev=18,!this.autoSelectWhenOneResult||this.open&&this.emptyItem||!r||!r.data||1!=r.data.length?this.open||this.autoFind&&!(r&&r.data&&r.data.length>1)||this.openPanel():this.select({content:r.data[0].content,value:r.data[0].value}),this.findingEnd(),o.finish(18);case 22:case"end":return o.stop()}},o,this,[[8,15,18,22]])}));return e}()},{key:"findingStart",value:function(){this.typing=!1,this.finding=!0,this.components.icon.loadingStart()}},{key:"findingEnd",value:function(){this.finding=!1,this.components.icon.loadingStop()}}]),t}(e)}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){return function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),i(t,[{key:"openPanel",value:function(){this.open=!0,this.valueOnOpen=this.value,this.elements.wrapper.className=this.style.openWrapper,this.components.panel.element.style.display="inline-block",this.ignoreBlur=!0,this.components.panel.components.searchInput.elements.input.focus(),this.components.panel.components.searchInput.elements.input.setSelectionRange(0,this.components.panel.components.searchInput.elements.input.value.length),this.autoFind&&this.debouncedFind(),this.components.presentText.scrollToHide(),this.layoutChange(),this.updateDirection()}},{key:"closePanel",value:function(){this.open=!1,this.elements.wrapper.className=this.style.wrapper,this.components.panel.element.style.display="none",this.layoutChange(),this.updateDirection()}},{key:"togglePanel",value:function(){this.open?this.closePanel():this.openPanel()}}]),t}(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=r(l);t["default"]=function(e){return function(e){function t(){return i(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"select",value:function(e){var t=e.content,n=e.value,r=(e.additional,e.others);this.value=n,this.content=t,this.elements.hiddenInput.value=n||"",this.elements.textInput.value=t||"",this.components.presentText.value(n||""),this.components.presentText.text(t||" "),this.setOrClearOtherFields(r)}},{key:"setOrClearOtherFields",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){var e,t,r,o,i,s,a,u,l=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=l.length,t=this.usedOtherFields.slice(0),r=0;case 3:if(!(r<e)){n.next=13;break}if(o=this.usedOtherFields.indexOf(l[r].field),i=document.querySelector('[name="'+l[r].field+'"]')){n.next=8;break}throw new Error("Element of other field '"+l[r].field+"' not found!");case 8:c["default"].projectElementSettings(i,l[r]),o===-1?this.usedOtherFields[this.usedOtherFields.length]=l[r].field:t.splice(t.indexOf(l[r].field),1);case 10:r++,n.next=3;break;case 13:for(s=t.length,a=0;a<s;a++)u=document.querySelector('[name="'+t[a]+'"]'),c["default"].projectElementSettings(u,{});case 15:case"end":return n.stop()}},n,this)}));return e}()}]),t}(e)}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){return function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),i(t,[{key:"topSpace",value:function(){return this.elements.wrapper.offsetTop-window.scrollY}},{key:"bottomSpace",value:function(){return window.innerHeight-(this.topSpace()+this.elements.wrapper.getBoundingClientRect().height)}},{key:"updateDirection",value:function(){console.log("direction: "+this.direction),"top"===this.direction?(this.elements.wrapper.classList.remove(this.style.bottom),this.elements.wrapper.classList.add(this.style.top)):(this.elements.wrapper.classList.remove(this.style.top),this.elements.wrapper.classList.add(this.style.bottom))}}]),t}(e)}},function(e,t){"use strict";function n(e,t,n){var r;return function(){var o=this,i=arguments,s=function(){r=null,n||e.apply(o,i)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(o,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),u=(r(a),function(){function e(t){i(this,e),this.url=t,this.request=null}return s(e,[{key:"prepareRequest",value:function(e){this.request=new XMLHttpRequest;var t=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");this.request.open("GET",this.url+"?"+t,!0)}},{key:"abort",value:function(){this.request&&this.request.abort&&this.request.abort()}},{key:"send",value:function(){var e=this;return new Promise(function(t,n){e.request.onreadystatechange=function(){if(console.log("readyState change",e.request.readyState,e.request.status,e.request),4==e.request.readyState&&200==e.request.status){var r=JSON.parse(e.request.responseText);e.request=null,t(r)}else 4==e.request.readyState&&200!=e.request.status&&n(new Error(e.request.responseText))},e.request.send()})}},{key:"find",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.prepareRequest(e),t.next=3,this.send();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},n,this)}));return e}()}]),e}());t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(u){return void n(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),u=(r(a),function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,e),this.data=t}return s(e,[{key:"find",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){e.value;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:this.data});case 1:case"end":return e.stop()}},n,this)}));return e}()}]),e}());t["default"]=u}]);